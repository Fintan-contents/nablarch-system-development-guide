# SQLファイル作成

本プロジェクトでは、SQLファイルの作成を設計工程で行います。

設計書に擬似的なSQLを書く必要がありますが、これを机上で作成してしまうと、十分な品質を確保できない場合があります。
疑似SQLは文法チェックもできないし、実行結果の妥当性も確認できないからです。

通常はPGUT工程の成果物であるSQLファイルですが、本プロジェクトでは設計工程成果物として位置づけます。
設計者は、共通テストデータおよび自身で作成したテストデータをもとに、
SQLを実行し妥当性を確認しながら作成します。

今までは、机上でSQLを思い浮かべながら設計書に記載する必要がありました。
このため、曖昧な記述やテーブル名カラム名の間違いがあっても、PGUT工程になるまで気づくことができず、
設計担当者、PGUT担当者双方の負担増加になっていました。
本プロジェクトでは設計段階でSQLの動作確認まで行う方針とするため、品質向上が期待できます。

SQLファイルの名前や配置場所、SQL IDの命名規約については[コーディング規約に関する命名規約](../PGUT工程/pg/コーディングに関する命名規約.md#SQLファイル)を参照してください。
また、SQLの書き方についてはNablarch解説書の[データベースアクセス(JDBCラッパー)](https://nablarch.github.io/docs/LATEST/doc/application_framework/application_framework/libraries/database/database.html)を参照してください。

SQLの実行には、[SQL Exectutor](https://github.com/nablarch/sql-executor)を使用します。
実行方法は、`SQL Exectutor`のREADMEを参照してください。


