# Changelog

このプロジェクトに対するすべての重要な変更は、このファイルに文書化されます。

## 3.6 (2024-09-30)

- スタイルガイドの修正
  - [スタイルガイド 3.2版から5.0版までの修正](https://github.com/Fintan-contents/coding-standards/blob/main/CHANGELOG.md)を元に、以下の通り変更しました。
    - 使用不許可APIチェックツール
      - Jakarta EE への対応に伴い、設定ファイルのサンプルとして最新版のNablarchの設定ファイルを参照するように変更しました。
    - JavaScriptスタイルガイド
      - Readmeで使われていたJava EEでの仕様の省略名について、Jakarta EEの仕様名に表記を変更しました。
    - JSPスタイルガイド
      - Readme、コーディング規約のタイトルで使われていたJava EEでの仕様の省略名について、Jakarta EEの仕様名に表記を変更しました。
      - コーディング規約で使われていたJava EEでの仕様の省略名について、Jakarta EEの仕様への読み替えを記載しました。
    - Javaコーディング規約
      - Javaのバージョンを17にバージョンアップしました。
      - Javaのバージョンアップに伴い、ルールを追加しました。
      - Javaのバージョンアップに伴い、一部ルールを修正しました。
    - Javaコードフォーマッター
      - IntelliJ IDEA、Eclipseでの設定方法の説明を追加しました。
      - 設定ファイルサンプルを見直し、IDEの最新バージョンに合わせて再作成しました。
      - EditorConfigでの設定方法を追加しました。
    - CheckStyleガイド
      - CheckStyleのバージョンを10.12.0にバージョンアップしました。
      - CheckStyleのバージョンアップに伴い、ルールを追加しました。
      - 設定ファイルを見直し、一部ルールを削除しました。
      - 設定ファイルを見直し、各ルールの重大度をerrorに修正しました。
      - Javaコードフォーマッターの設定ファイルサンプル使用を考慮し、フォーマットに関連する一部ルールを削除しました。
      - CheckStyleサンプルプロジェクトのJavaのバージョンを17にバージョンアップしました。
      - 設定ファイルの修正に伴い、CheckStyleサンプルプロジェクトのソースコードを修正しました。
      - Jenkinsでの実行結果収集に使用するプラグインがサポートを終了しているため、使用するプラグインを変更しました。
    - SpotBugsガイド
      - SpotBugsのバージョンを4.7.3にバージョンアップしました。
      - SpotBugsサンプルプロジェクトのJavaのバージョンを17にバージョンアップしました。
      - SpotBugsサンプルプロジェクトに標準で検知可能なバグのサンプルコードを追加しました。
      - Jenkinsでの実行結果収集に使用するプラグインがサポート終了しているため、使用するプラグインを変更しました。
    - 使用不許可APIチェックツール
      - Javaのバージョンアップに伴い、Java標準ライブラリ使用可能APIを修正しました。
      - 設定ファイルのサンプルを配置しました。

- サンプルプロジェクトの改善

  - 依存するNablarchのバージョンを6u2にバージョンアップしました。
  - Nablarch 6で提供していないJSP自動生成ツールを削除しました。
  - ArchUnitのバージョンを1.0.1にバージョンアップしました。
  - 「顧客管理システム（Climan）」で、HTTPアクセスログハンドラをHTTPアクセスログ（RESTfulウェブサービス用）ハンドラに変更しました。

- README.md

  - Nablarch 6系がJakarta EE 10前提となったことを踏まえ、「本ドキュメントにおけるJakarta EE仕様への読み替えについて」を追加しました。

## 3.5 (2022-10-31)

- サンプルプロジェクトの改善

  - 「プロジェクト管理システム（proman）」説明に記載しているビルド手順および起動手順を修正しました。
  - 設計書と実装に不整合があったため修正しました。

## 3.4 (2022-03-24)

- スタイルガイドの改善
  
  - SpotBugsプラグインのバージョンを4.5.0.0にバージョンアップしました。
    最新のバージョンに追随することで検知可能なバグを増やすためです。
    (SpotBugs4.XではJava 11以降も実験的にサポートしています。)
  - SpotBugs4.Xに対応した使用不許可APIチェックツールに差し替えました。
  
- サンプルプロジェクトの改善

  - SpotBugsプラグインのバージョンを4.5.0.0にバージョンアップしました。
  - SpotBugs4.Xに対応した使用不許可APIチェックツールに差し替えました。
  - 依存するNablarchのバージョンを5u21にバージョンアップしました。
  - javax.ws.rs-apiを2.1.1にバージョンアップしました。
  - JUnitのバージョンを5.8.2にバージョンアップしました。

## 3.3 (2021-03-31)
### 更新内容
#### 変更
- サンプルプロジェクトの改善
  - CheckStyleのバージョンを8.29にバージョンアップしました。  
    バージョンが古く、不正なXMLを読み込ませることでXXE攻撃成立の可能性があったためです。
  - 使用しているJUnitを4.13.1に更新しました。  
    [Security fix: TemporaryFolder now limits access to temporary folders on Java 1.7 or later](https://github.com/junit-team/junit4/blob/HEAD/doc/ReleaseNotes4.13.1.md#security-fix-temporaryfolder-now-limits-access-to-temporary-folders-on-java-17-or-later) の適用のためです。
  - jackson-databindを2.10.5.1にバージョンアップしました。  
    [CVE-2020-25649](https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2020-25649)対応の適用のためです。サンプルプロジェクトはCVE-2020-25649の影響を受ける機能は使用していませんが、参考にする方が誤って古いバージョンを使用しないようにするためバージョンアップをしました。
  - Find Security Bugsの利用ガイドを追記しました。

## 3.2 (2020-12-23)
### 更新内容
#### 変更
- 英語版を更新。内容は日本語版のバージョン3.1に準ずる。

## 3.1 (2020-09-29)
### 更新内容
#### 変更
- サンプルプロジェクトの改善
  - 「Nablarchスタイルガイド」中の「MavenでのArchUnitの実行方法」に「チェックを除外するフィルターファイルを配置する」方法を記載しました。
  - ローカル開発環境用プロファイル(development)でCSRF対策機能を無効化しました。ローカル開発環境でテストする際、CSRF対策機能は不要であるためです。
  - Nablarch5u18で追加されたREST APIの単体テストを顧客管理システムに適用しました。あわせてサンプルプロジェクト開発ガイドの単体テストの考え方（REST）を更新しています。
  - Nablarch5u18で追加されたJAX-RSのPathアノテーションによるルーティングを顧客管理システムに適用しました。

## 3.0 (2020-08-14)
### 更新内容
#### 追加
- 英語版を新規公開
  - 内容は日本語版のバージョン2.2に準ずる。

## 2.2 (2020-06-05)
### 更新内容
#### 変更
- サンプルプロジェクト
  - Nablarch5u17で追加されたCSRF対策機能をプロジェクト管理システムに適用しました。
- Nablarch機能のセキュリティ対応表
  - Nablarch5u17で追加されたCSRF対策機能に合わせてCSRF対策の補足説明を変更しました。

## 2.1 (2020-04-28)
### 更新内容
#### 変更
- Nablarch機能のセキュリティ対応表
  - Nablarch5u16におけるCSRF対策の補足説明を追加しました。

## 2.0 (2020-03-31)
### 更新内容
#### 追加
- Nablarch機能のセキュリティ対応表
  - Nablarchシステム開発ガイドに、方式設計の際に参照できるNablarchのセキュリティ対応表を追加しました。
- サンプルプロジェクトの機能追加
  - サンプルプロジェクトとして公開しているプロジェクト管理システムにプロジェクト検索機能とプロジェクト更新機能を追加しました。
- テストプロセスの改善
  - JMeterを使用した回帰テストの自動化を追加しました。
- ArchUnitのテストコード追加
  - NablarchスタイルガイドにArchUnit導入ガイドが追加されたことに伴い、ArchUnitを利用したテストをサンプルプロジェクトに追加しました。

## 1.0 (2019-09-30)
### 更新内容
- 初版公開
