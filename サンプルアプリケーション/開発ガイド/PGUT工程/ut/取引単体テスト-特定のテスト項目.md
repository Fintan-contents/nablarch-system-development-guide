# 取引単体テスト-特定のテスト項目
## テスト方法
本項では特殊な操作が必要なテスト項目について、テスト方法の説明を行います。

### 排他制御エラー

1. IDEでアプリを起動します。
2. chormeを起動します(以降ブラウザAと呼ぶ)。
3. 起動したchormeのメニューから「シークレット ウインドウを開く」を選択し、もう一つChormeを起動します (以降ブラウザBと呼ぶ)。
   補足：セッションがブラウザ間で共有されてしまうことを防ぐため。 
4. ブラウザA、ブラウザBともに、同じデータを表示した更新画面に遷移します。
5. ブラウザBで確定を行います。
6. ブラウザAで確定を押したときに排他制御エラーが発生したことを表す画面に遷移することを確認します。

### 二重サブミットエラー

1. IDEでアプリを起動します。
2. ブラウザを起動して、テスト対象の画面まで遷移します。
3. ブラウザでテスト対象のボタンをクリックします。
4. ブラウザの戻る機能で戻ります。
5. テスト対象のボタンをクリックします。  
   ここで、2と同じトークンが送信されるため、二重サブミットエラーを確認できます。


## テスト確認内容補足
本項ではテストの確認内容について、補足説明を行います。

### 「単体テスト仕様書」→「リクエスト単体テスト」→「メッセージ表示（項目別）」のテストについて
エラーメッセージが適切な位置に表示されているかを確認します。  
エラーのバリエーションのテストは行わなりません。

以下の理由による。
- 「適切なドメイン付与されていれば、適切なエラーメッセージが出る」ため、エラーのバリエーションのテストは不要であるため。  
  適切なドメインが付与されているか否かは、レビューで担保します。 
- 各項目、エラーメッセージを一種類ずつ確認すれば、バリデーションが機能しているかの確認はできるため。


補足：  
相関チェックのチェックロジックのテストは、ユニットテストで行います。