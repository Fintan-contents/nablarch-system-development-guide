# 取引単体テスト-テスト項目全般

## 画面/バッチ/メッセージング共通

### エビデンスの取得前の準備
#### ログ
ローカルのログファイルを消します
(あとで必要な部分だけ取り出す作業を楽にするため)

#### DBダンプ
##### テーブル定義一覧を更新
単体テスト用データダンプツール(YoyoTool)のテーブル定義一覧を更新します。
更新は以下の手順で行います。

1. DUMP.xlsmを開きます
2. MAINシート画面上部の「テーブル定義取得」をクリックします。
3. 表示されたダイアログにedmファイルが存在するディレクトリを指定してください。  
   `<クローンしたディレクトリ>\proman-project\proman-common\src\main\resources\entity` です。
   パスの最後の「\」は不要です。   
4. 取得するテーブルについてI列を「○」に変更してください。  
  どのテーブルを取得するかは、 `02_方式設計\20_開発標準\020_テスト標準\単体テスト標準.xlsx` の `3.3.2. 取引単体テストのエビデンス` を参照してください。
5. **DUMP.xlsmを保存してください。**

##### テスト実行前のデータダンプを取得
1. DUMP.xlsmのMAINシート画面上部の「起動」をクリックします。
2. ダンプツールのウインドウが表示される。表示されたウインドウの「シートクリア」をクリックします。
3. 「DBダンプ取得」をクリックします。
4. DUMPエクスポートをクリックし、ダンプを保存するディレクトリを指定します。
5. ダンプツールを右上の「×」をクリックしてウインドウを閉じります。


### エビデンスの取得方法
#### ログ
テスト対象を実行します。  
テスト対象実行後、ログファイルは、テストを項目との紐づけが分かりやすいように分割することがあります。

#### DBダンプ
##### テスト実行後のデータダンプを取得
取得方法は「テスト実行前のデータダンプを取得」と同一であります。  
テスト前テスト後のダンプを確認し、想定通りのレコード及びカラムが更新されていることを確認します。  
確認したら、更新された箇所のカラムの背景色を黄色に変更して保存します。  


### エビデンスの取得後
`02_方式設計\20_開発標準\020_テスト標準\単体テスト標準.xlsx` の `3.3.4. エビデンスの格納方法` に従って保存します。


## 画面
### エビデンスの取得前の準備
#### 画面ハードコピー
1. ウィンドウサイズ指定ツール(Sizer)を起動します。
2. ブラウザを起動します。
3. ブラウザの右下の角にマウスカーソルを当てて右クリックします。
4. 表示されたされたメニューをクリックし、テストに使用するブラウザのサイズに変更します。
5. 画面キャプチャツール(SnapCrab for Windows)を起動します。

### エビデンスの取得方法
#### 画面ハードコピー
画面ハードコピーツール(SnapCrab for Windows)を使用してスクリーンショットを取得します。  
デフォルトでは、ALT + PrintScreenでアクティブなウインドウのハードコピーを撮れます。  
取得したスクリーンショットは指定済みのディレクトリに保存されます。

### エビデンスの取得後
`02_方式設計\20_開発標準\020_テスト標準\単体テスト標準.xlsx` の `3.3.4. エビデンスの格納方法` に従って保存します。