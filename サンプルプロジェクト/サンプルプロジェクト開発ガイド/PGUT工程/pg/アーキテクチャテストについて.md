# アーキテクチャテスト違反発生時の対応方法

## 原則的な考え方

コーディング規約の運用ガイドに準じます。

- [ArchUnit運用ガイド](../../PGUT工程/proman-style-guide/java/staticanalysis/checkstyle/docs/Ops-Rule.md)

## 本プロジェクトでの具体的な対応方法

原則として、全ての警告を解決します。
警告が解決できない/無理に解決しないほうがよい理由がある場合は、以下の手順により、
除外対象申請をします。

- 開発者は除外対象申請を記載したRedmineチケットを発行し、担当者をアーキテクトに変更します
- アーキテクトは記載内容を確認します
  - 記載内容が妥当である場合は、ArchUnitのテスト対象除外設定を行い、チケットを開発者に戻します
  - 記載内容が妥当でない場合は、チケットを開発者に差し戻します
- 開発者は、除外設定が完了したことが確認できたらチケットをクローズします

### ArchUnitのテスト対象除外方法

本プロジェクトでは「ArchUnitの対象テストに除外対象クラス登録」を行います。
これはArchUnitでは対象のパッケージ配下に対し、パッケージ、クラス、メソッド、フィールドなどから対象の絞り込みを行うが、これらに対し汎用的に除外できる対象がクラスであるためです。

なお、パッケージについても汎用的に対象から除外できますが、本PJのパッケージのルールでは対象範囲が広すぎるためクラスを対象に除外します。

``` java
   private int counter_;  // SUPPRESS CHECKSTYLE #12345
```

行コメント末尾にRedmineチケット番号を記載します。
これにより、除外設定した理由や経緯をRedmineチケットで追跡できるようにします。

